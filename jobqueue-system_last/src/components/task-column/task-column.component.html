<div class="bg-gray-50 rounded-xl p-4">
  <div class="flex justify-between items-center mb-4 px-1">
    <h3 class="font-medium text-gray-700">{{ title() }}</h3>
    <div class="flex items-center gap-2">
      <span class="px-2.5 py-1 text-sm font-medium text-indigo-700 bg-indigo-100 rounded-full">
        {{ count() }}
      </span>
      @if (isCollapsible()) {
        <button (click)="toggleCollapse()" class="p-1 rounded-full hover:bg-gray-200 focus:outline-none transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 transition-transform duration-200" [class]="isCollapsed() ? '' : 'rotate-180'" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      }
    </div>
  </div>
  @if (!isCollapsed()) {
    <div class="space-y-3">
      @for (task of tasks(); track task.id) {
        <app-task-card 
          [task]="task" 
          (action)="taskAction.emit($event)"
          (detailClick)="taskDetailClick.emit($event)"></app-task-card>
      }
      @if (tasks().length === 0) {
        <div class="text-center py-10">
          <p class="text-base text-gray-500">ไม่มีงาน</p>
        </div>
      }
    </div>
  }
</div>